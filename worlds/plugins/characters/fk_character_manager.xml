<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient [
    <!ENTITY cmdPrefix "fkcm">
]>

<muclient>
<plugin
    name="FK_Character_Manager"
    author="Areia"
    id="827bf972cf12156f7b855941"
    language="Lua"
    purpose="Manage character profiles"
    save_state="n"
    date_written="2022-04-07 03:00:00"
    requires="5.06"
    version="0.00"
>
<description trim="y">
<![CDATA[
]]>
</description>

</plugin>

<include name="constants.lua"/>



<script>
<![CDATA[
require("commas")
require("json")
require("tprint")
require("var")
require("wait")
local const = require("fk_const")
require("fk_event")
require("fk_note")


--------------------------------------------------
-- Manager
--------------------------------------------------


Manager = {}


function Manager.login(character)
end


function Manager.logout(character)
end
]]>
</script>



<script>
<![CDATA[
--------------------------------------------------
-- Utility
--------------------------------------------------


Utility = {}


function Utility.initialize()
    local initializers = {
    }
    for _, initializer in ipairs(initializers) do
        initializer()
    end
end


function Utility.deinitialize()
end
]]>
</script>


<script>
<![CDATA[
--------------------------------------------------
-- Plugin Callbacks
--------------------------------------------------


function OnPluginInstall()
    Utility.initialize()
end


function OnPluginEnable()
    OnPluginInstall()
end


function OnPluginClose()
    Utility.deinitialize()
end


function OnPluginDisable()
    OnPluginClose()
end


function OnPluginBroadcast(msg, id, name, text)
    if (id ~= const.PLUGIN.EVENT_HANDLER
    or msg ~= const.EVENT_TYPE.LOGIN) then
        return
    end

    local path = utils.split(text, ".")
    local action = path[2] -- 'login' or 'logout'.
    local character = fk_event(text).name
print("action:", action)
    Manager[action](character)
end
]]>
</script>


</muclient>
